\documentclass[00-GLMregslides.tex]{subfiles}
\begin{document}
	

%================================================ %
\begin{frame}[fragile]
\frametitle{Negative Binomial Regression with \texttt{R} }
\Large

% - R Data Analysis Examples: Negative Binomial Regression

Negative binomial regression is for modeling count variables, usually for over-dispersed count outcome variables.

This page uses the following packages. Make sure that you can load them before trying to run the examples on this page. If you do not have a package installed, run: install.packages("packagename"), or if you see the version is out of date, run: update.packages().

\begin{framed}
	\begin{verbatim}
	
	require(foreign)
	require(ggplot2)
	require(MASS)
	Version info: Code for this page was tested in R Under development (unstable) (2013-01-06 r61571)
	On: 2013-01-22
	With: MASS 7.3-22; ggplot2 0.9.3; foreign 0.8-52; knitr 1.0.5
		
	\end{verbatim}	
\end{framed}


\end{frame}
%================================================ %
\begin{frame}[fragile]
	\frametitle{Negative Binomial Regression with \texttt{R} }
	\Large
	
Please note: The purpose of this page is to show how to use various data analysis commands. It does not cover all aspects of the research process which researchers are expected to do. In particular, it does not cover data cleaning and checking, verification of assumptions, model diagnostics or potential follow-up analyses.
\end{frame}
%================================================ %
\begin{frame}[fragile]
	\frametitle{Negative Binomial Regression with \texttt{R} }
	\Large
	
Examples of negative binomial regression
Example 1. School administrators study the attendance behavior of high school juniors at two schools. Predictors of the number of days of absence include the type of program in which the student is enrolled and a standardized test in math.

Example 2. A health-related researcher is studying the number of hospital visits in past 12 months by senior citizens in a community based on the characteristics of the individuals and the types of health plans under which each one is covered.
\end{frame}
%================================================ %
\begin{frame}[fragile]
	\frametitle{Negative Binomial Regression with \texttt{R} }
	\Large
	
Description of the data
Let's pursue Example 1 from above.

We have attendance data on 314 high school juniors from two urban high schools in the file \textbf{nb\_data}. The response variable of interest is days absent, daysabs. The variable math gives the standardized math score for each student. The variable prog is a three-level nominal variable indicating the type of instructional program in which the student is enrolled.
\end{frame}
%================================================ %
\begin{frame}[fragile]
	\frametitle{Negative Binomial Regression with \texttt{R} }
	\Large
	
Let's look at the data. It is always a good idea to start with descriptive statistics and plots.


\begin{framed}
	\begin{verbatim}
	
	dat <- read.dta("http://www.ats.ucla.edu/stat/stata/dae/nb_data.dta")
	dat <- within(dat, {
	prog <- factor(prog, levels = 1:3, labels = c("General", "Academic", "Vocational"))
	id <- factor(id)
	})
	
	
	\end{verbatim}	
\end{framed}

\end{frame}
%================================================ %
\begin{frame}[fragile]
	\frametitle{Negative Binomial Regression with \texttt{R} }
	\Large

\begin{framed}
	\begin{verbatim}
	
summary(dat)
##        id         gender         math         daysabs     
##  1001   :  1   female:160   Min.   : 1.0   Min.   : 0.00  
##  1002   :  1   male  :154   1st Qu.:28.0   1st Qu.: 1.00  
##  1003   :  1                Median :48.0   Median : 4.00  
##  1004   :  1                Mean   :48.3   Mean   : 5.96  
##  1005   :  1                3rd Qu.:70.0   3rd Qu.: 8.00  
##  1006   :  1                Max.   :99.0   Max.   :35.00  
##  (Other):308                                              
##          prog    
##  General   : 40  
##  Academic  :167  
##  Vocational:107  
##   
	
	\end{verbatim}	
\end{framed}

	
               
\end{frame}
%================================================ %
\begin{frame}[fragile]
	\frametitle{Negative Binomial Regression with \texttt{R} }
	\Large

\begin{verbatim}	
ggplot(dat, aes(daysabs, fill = prog)) + geom_histogram(binwidth = 1) + facet_grid(prog ~ 
., margins = TRUE, scales = "free")
\end{verbatim}
Histogram plots showing distribution of the data
Each variable has 314 valid observations and their distributions seem quite reasonable. The unconditional mean of our outcome variable is much lower than its variance.
\end{frame}
\end{document}
